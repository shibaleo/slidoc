---
import { getSlideUrl, shouldShowSlideLink } from '../utils/urls';

interface Props {
  slug: string;
}

const { slug } = Astro.props;

const slideUrl = getSlideUrl(slug);
const showSlideLink = shouldShowSlideLink(slug);
---

{showSlideLink && (
  <a href={slideUrl} class="present-fab" title="スライドモードで開く">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
      <path d="M18 4v5H6V4h12m0-2H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 13v5H6v-5h12m0-2H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/>
    </svg>
  </a>
)}

<style>
  .present-fab {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 9999;
    width: 48px;
    height: 48px;
    background: rgba(0, 0, 0, 0.1);
    color: var(--sl-color-text);
    border-radius: 50%;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(0, 0, 0, 0.2);
    transition: all 0.2s;
    backdrop-filter: blur(8px);
  }

  .present-fab:hover {
    background: rgba(0, 0, 0, 0.2);
    border-color: rgba(0, 0, 0, 0.4);
    transform: scale(1.05);
  }

  :global([data-theme='dark']) .present-fab {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  :global([data-theme='dark']) .present-fab:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
  }
</style>
